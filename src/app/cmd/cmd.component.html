<div id="cmd" class="section-container center">
    <div class="terminal column">
        <div class="header">
            <img (click)="scroll.goToSection('main', 'landing-page')" src="img/close.svg">
        </div>
        
        <div #contentContainer class="content-container" (click)="focusInput($event)">
            @if(executedCommands.length) {
                <div class="executed-commands-container">
                    @for(executedCommand of executedCommands; track $index) {
                        <div class="row executed-command-line gap-5">
                            <span class="bold">root&#64;guest:~{{ executedCommand.path }}$</span>
                            <span>{{ executedCommand.command }}</span>
                        </div>
                        @if(isCommandSent) {
                            @if(executedCommand.command !== 'help') {
                                <pre #preTag tabindex="0" [contentEditable]="localRequests.isEditing && $index === executedCommands.length - 1" (keydown)="selectCommand($event)">{{ executedCommand.output }}</pre>
                            } @else if(executedCommand.command === 'help') {
                                <app-help [availableCommands]="availableCommands"></app-help>
                            }
                        }
                    }
                </div>
            }
            <div class="input-line row gap-5" [class.isFetchingOrEditing]="localRequests.isEditing" id="input-line">
                <span class="bold" [class.isFetchingOrEditing]="httpRequests.isFetching || localRequests.isEditing">root&#64;guest:~{{ currentPathString }}$</span>
                <textarea autoGrow [(ngModel)]="command" (keydown)="selectCommand($event, command)"></textarea>
            </div>
        </div>
        <div class="edit-info row gap-10 left" [class.none]="!localRequests.isEditing">
            <span>^X</span>
            <span>Exit and Save</span>
        </div>
    </div>
</div>
